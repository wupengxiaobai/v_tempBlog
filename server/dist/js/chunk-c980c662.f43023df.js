(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c980c662"],{"326e":function(e,t,i){"use strict";var s=i("a99e"),a=i.n(s);a.a},"35b0":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"login"},[i("div",{staticClass:"login-wrap"},[i("div",{staticClass:"title"},[e._v("博客登录")]),i("el-input",{attrs:{placeholder:"邮箱",type:"email",clearable:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),i("el-input",{attrs:{placeholder:"密码",type:"password",clearable:""},model:{value:e.pass,callback:function(t){e.pass=t},expression:"pass"}}),i("p",[i("small",{on:{click:function(t){e.dialogVisible=!0}}},[e._v("没有账号？快速注册")])]),i("br"),i("el-button",{on:{click:function(t){return t.stopPropagation(),e.commitLogin(t)}}},[e._v("登录")])],1),i("el-dialog",{staticClass:"dialog",attrs:{title:"快速注册",visible:e.dialogVisible,width:"450px","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("div",{staticClass:"main"},[i("el-input",{attrs:{placeholder:"邮箱",clearable:""},model:{value:e.registerEmail,callback:function(t){e.registerEmail=t},expression:"registerEmail"}}),i("el-input",{attrs:{placeholder:"密码",type:"password",clearable:""},model:{value:e.registerPassword,callback:function(t){e.registerPassword=t},expression:"registerPassword"}})],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.commitRegister}},[e._v(e._s(e.commitRegisterText))])],1)])],1)},a=[],o=(i("9e1f"),i("450d"),i("6ed5")),l=i.n(o),n=(i("46a1"),i("e5f2")),r=i.n(n),c={data:function(){return{email:"",pass:"",registerEmail:"",registerPassword:"",loading:!1,commitRegisterText:"注册",dialogVisible:!1}},methods:{commitLogin:function(){var e=this;this.$axios.post("/users/login",{email:this.email,password:this.pass}).then(function(t){console.log(t),0==t.data.code?(r()({title:"成功",message:t.data.msg,type:"success"}),setTimeout(function(){e.$router.push({path:"/admin/index"})},1e3)):r()({title:"失败",message:t.data.msg,type:"error"})}).catch(function(e){console.log("commitLogin 请求出错",e)})},commitRegister:function(){var e=this;this.commitRegisterText="请稍后",this.loading=!0,this.$axios.post("/users/register",{email:this.registerEmail,password:this.registerPassword}).then(function(t){console.log(t),0==t.data.code?(r()({title:"成功",message:t.data.msg,type:"success"}),setTimeout(function(){e.dialogVisible=!1},300)):r()({title:"失败",message:t.data.msg,type:"error"}),e.commitRegisterText="注册",e.loading=!1}).catch(function(e){console.log("commitRegister 请求出错",e)})},handleClose:function(e){this.dialogVisible=!1}},created:function(){this.$confirm=l.a}},d=c,m=(i("326e"),i("2877")),u=Object(m["a"])(d,s,a,!1,null,"dab2b198",null);t["default"]=u.exports},a99e:function(e,t,i){}}]);
//# sourceMappingURL=chunk-c980c662.f43023df.js.map